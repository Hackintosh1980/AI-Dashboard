Alles klar Dominik â€” hier kommt eine einzige, klare, kompakte, perfekt saubere Zusammenfassung NUR fÃ¼r den Dashboard-Screen.
Keine Fullscreen-Details, keine globale Architektur â€” nur der Dashboard-Screen, komplett und final.

Das ist genau das Dokument, das du separat speichern kannst.


---

ğŸ“˜ Dashboard â€“ Komplettzusammenfassung (Final, Session 8)

ğŸ¯ ZIEL DES DASHBOARDS

Der Dashboard-Screen ist die Hauptansicht der App.
Er zeigt 6 Sensor-Tiles, einen Header und die globalen Control Buttons.

Der Dashboard hat keine eigene Logik, keinen Timer, keinen eigenen Buffer.
Er ist zu 100 % passive UI, die der GlobalStateManager mit Daten fÃ¼ttert.


---

ğŸ— AUFBAU DES DASHBOARDS

Der Screen besteht aus genau 3 Elementen:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HeaderBar                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DashboardMainPanel (6 Tiles)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ControlButtons (Start/Stop/Reset)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


---

1ï¸âƒ£ HEADER

Der Header zeigt immer:

Device Label

RSSI

External Sensor Status

Uhrzeit

LED (vom GlobalState gesteuert)

Navigation Buttons (Setup / Debug)


Der Header erhÃ¤lt seine Daten nur aus:

update_from_global(d)


GLOBAL_STATE.set_led_*()

Er hat keine eigene Logik und ist kein Sensor-Lieferant.


---

2ï¸âƒ£ DASHBOARD MAIN PANEL

Das Hauptpanel enthÃ¤lt 6 Tiles:

temp_in

hum_in

vpd_in

temp_ex

hum_ex

vpd_ex


Jedes Tile ist ein ChartTile-Objekt und besitzt:

Titel

Einheit

Farbe

PNG-Hintergrund

aktiven Wert

History-Buffer (DIE zentrale Datenquelle fÃ¼r Fullscreen)


Wichtig:

âœ” Die Tiles sind die einzige Stelle, an der History gebaut wird.

âœ” Tiles glÃ¤tten die Werte leicht (smoothing).

âœ” Tiles speichern ~60â€“300 Werte.

âœ” Fullscreen nutzt EXAKT dieselbe History.


---

3ï¸âƒ£ CONTROL BUTTONS

Die Buttons sind identisch zu allen Screens:

Start

Stop

Reset


Sie tun selbst nichts, sondern rufen:

GLOBAL_STATE.start()
GLOBAL_STATE.stop()
GLOBAL_STATE.reset()

Der GlobalStateManager spiegelt den Zustand zurÃ¼ck in:

controls.refresh_state(running)

Somit:

âœ” Buttons im Dashboard sind immer synchron

âœ” Dashboard kann Start/Stop NICHT selbst auslÃ¶sen

âœ” Keine lokale Logik â†’ 100 % global


---

ğŸŒ€ Datenfluss IM Dashboard

Das Dashboard lÃ¤dt niemals selbst Daten.
Es hat keinen Timer.
Es pollt nicht.
Es liest nicht decoded.json.

Alles kommt Ã¼ber:

ğŸ”½ GLOBAL_STATE._global_update()

â†’ Dashboard.update_from_global(d)

Dort passieren 2 Dinge:

1. HEADER aktualisieren (Clock, RSSI, External, Label)

2. Tiles aktualisieren (tile.update(value))

Genau in diesem Schritt:

âœ” Tile schreibt Wert
âœ” Tile berechnet Trend
âœ” Tile glÃ¤ttet Wert
âœ” Tile schiebt Wert in History-Buffer
âœ” Tile rendert Mini-Graph im Tile

Dashboard selbst macht nichts davon selbst.


---

ğŸ” RESET im Dashboard

Reset lÃ¶scht:

Alle Tile-Werte

Alle Tile-History

Uhrzeit

RSSI

Min/Max/Avg


Der Reset kommt immer Ã¼ber:

GLOBAL_STATE.reset()
â†’ dashboard.reset_from_global()

Dashboard fÃ¼hrt NIE eigenen Reset aus.
Dashboard startet NIE von sich aus neu.


---

ğŸ” FULLSCREEN-BEZUG

Der Dashboard-Screen ist der Datenlieferant fÃ¼r Fullscreen:

Fullscreen zieht NICHT selber History

Fullscreen misst NICHT selbst Sensorwerte

Fullscreen glÃ¤ttet NICHT selbst

Fullscreen hat KEINEN eigenen Graph-Buffer


Stattdessen:

Fullscreen holt das Tile-Objekt aus:

dashboard.content.tile_map[tile_id]
und nutzt
tile.buffer & tile.color & tile.bg.

Dashboard ist also der Master aller Trends.


---

ğŸ§© Module, die Teil des Dashboards sind

dashboard.py

Hauptklasse, erzeugt den kompletten Screen

ui/dashboard_content/dashboard_main_panel.py

Erzeugt die 6 Tiles, organisiert Layout und Mapping

ui/dashboard_content/chart_tile.py

Das einzelne Tile, inklusive Mini-Graph, Trend, History, Hintergrund

ui/common/header.py

HeaderBar

ui/common/control_buttons.py

Start/Stop/Reset Buttons


---

ğŸ§  Kerndefinition (als Satz)

Der Dashboard-Screen ist eine Passive View, die Daten ausschlieÃŸlich vom GlobalStateManager erhÃ¤lt und sie in 6 ChartTiles rendert, wobei die ChartTiles die einzige Quelle der Sensor-History darstellen, die Fullscreen und zukÃ¼nftige Screens verwenden.


---

ğŸ¯ Perfekt zum Abspeichern

Dieses Dokument ist clean, vollstÃ¤ndig, ohne Ãœberladung.
Du kannst es direkt als:

Dashboard.md oder

Dashboard_Architecture_v1.txt


speichern.

Wenn du willst, mache ich eine saubere Markdown/README-Version oder eine visuelle PNG-Architekturgrafik.